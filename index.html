<!DOCTYPE html>
<html>
<head>
  <meta name="viewport" content="initial-scale=1.0, user-scalable=no" />
  <meta http-equiv="content-type" content="text/html; charset=UTF-8"/>
  <title>Library Community Mapping Tool</title>
  <link href="http://code.google.com/apis/maps/documentation/javascript/examples/default.css" rel="stylesheet" type="text/css" />
  <script type="text/javascript" src="http://maps.googleapis.com/maps/api/js?sensor=false"></script>

  <script type="text/javascript">

    function initialize() {
      
      var vancouver = new google.maps.LatLng(49.262 , -123.113);

      var myOptions = {
        zoom: 13,
        center: vancouver,
        mapTypeId: 'roadmap'
      }

      map = new google.maps.Map(document.getElementById('map_canvas'), myOptions);

      google.maps.event.addListener(map, 'click', function(event) {
        placeMarker(event.latLng);
      });

      var layer = new google.maps.FusionTablesLayer({
        query: {
          select: 'Address',
          from: '1898909'
        },
      });

      styles: [{
        markerOptions: {
          iconName: "buildings"
        }
      }]

      layer.setMap(map);
    }

    function placeMarker(location) {
      var marker = new google.maps.Marker({
      position: location, 
      draggable:true,
      animation: google.maps.Animation.DROP,
      url: 'http://maphack.blinklab.ca/update.html',
      map: map
    });

}

  </script>
</head>
<body onload="initialize()">
  <div id="map_canvas"></div>
</body>
</html> 

